<md-toolbar class="md-theme-indigo">
	<h1 class="md-toolbar-tools">MVC</h1>
</md-toolbar>

<section class="md-padding max-sized">
  <article class="md-padding">
        <h2>Controllers</h2>
        
        <p>
          Controllers spelen een belangrijke rol binnen MVC. 
          Ze zijn verantwoordelijk voor het ophalen van data uit een database en gebruiken deze data later weer om de views te vullen. 
          In de controller zit ook veel 'business logica'. Je kan de controller vergelijken met het View Model in een WPF applicatie.
        </p>
        
        <p>
          Een controller geeft gebruikers toegang tot acties. Deze acties zijn methodes op de controller die HTML pagina's kunnen maken.
          De gebruiker kan deze acties benaderen door een bepaalde URL op de website te benaderen. 
          Neem als voorbeeld de onderstaande URL:
        </p>
        
        <pre class="ppPrettyPrint">http://leaguestore.azurewebsites.net/Home/News</pre>
        
        <p>In dit geval zal de <b>News</b> methode op de <b>Home</b> controller worden aangeroepen.</p>
        
        <md-card  >
          <md-card-content>
            <img  src="onderwerp/mvc/img/homeCtrl.png">
          </md-card-content>
        </md-card>
        
        
        <section layout="row">
          <section>
            <p>
              Elke actie op een controller heeft zijn eigen view. 
              Als je een nieuwe actie defineerd zul je dus ook een nieuwe view moeten aanmaken. 
              Deze views kun je terugvindenn in de folde <b>Views</b>. 
            </p>
            <p>
              In deze folder vind je een sub folder voor  elke controller en daarin een html bestand met de naam van de actie. 
            </p>
          </section>
          <section flex class="md-padding">
           <img   src="onderwerp/mvc/img/viewLocatie.png">
          </section>
        </section>
        
        <h4>Stappenplan</h4>
        
  
    <md-card>
      <md-toolbar>
          <h1 class="md-toolbar-tools">Stappenplan controller</h1>
      </md-toolbar>
      <pp-carousel>
        <ul>  
          <li>
            <h3>Stap 1/6</h3>
            <p>
              Maak een Controller genaamd “HomeController”. 
            </p>
            <p>
              Je kunt een controller ook een andere naam geven maar deze Controller 
              moet altijd de term ‘Controller’ hebben en overerven van de base class Controller.
            </p>
            
              
              <div layout="row">
                <div flex="50">
                  <pre class="ppPrettyPrint" >
public class HomeController : Controller
{
    public ActionResult Index()
    {
        return View();
    }
}</pre>
                </div>
                <div flex="50">
                  <img src="onderwerp/mvc/img/stap1.png">
                </div>
              </div>
            </p>
          </li>  
          <li>
            <h3>Stap 2/6</h3>
            <p>
              Voeg Actions toe aan de Controller. 
            </p>
            <p>
              Deze Controller heeft standaard een Action genaamd Index. Je hebt de mogelijkheid meer Actions toe te voegen. 
            </p>
            
            <pre class="ppPrettyPrint" >
public ActionResult Index()
{
     return View();
}

public ActionResult About()
{
     return View();
}</pre>


            
          </li>  
          <li>
            <h3>Stap 3/6</h3>
            <p>
             Maak een View voor elke Action in je Controller. 
            </p>
            <p>
             Gebruik hiervoor de wizard van Visual Studio.
            </p>
          
            <div layout="row">
              <div flex="50">
                <img src="onderwerp/mvc/img/stap1.png">
              </div>
            </div>
          
            <p>
              <i><b>Tip</b>: Rechtermuisknop binnen de action toont het menu. </i>
            </p>

          </li>  
          <li>
            <h3>Stap 4/6</h3>
            <p>Vul eventueel vanuit de Action de ViewBag met data die je wil tonen in de view. </p>
            <pre class="ppPrettyPrint">ViewBag.Message = "Hello World";</pre>
              
          </li>
          <li>
            <h3>Stap 5/6</h3>
            <p>Toon de waarde uit de ViewBag in de view met Razor.</p>
            <pre class="ppPrettyPrint">
&lt;h2&gt;Index&lt;/h2&gt;
@ViewBag.Message
</pre>  
          </li>
          <li>
            <h3>Stap 6/6</h3>
            <p>Maak eventueel een menu in de _layout file met daarin links naar alle controllers en alle Actions.</p>
            <pre class="ppPrettyPrint">
@Html.ActionLink("Home/Index", "Index", "Home")

@* Met parameters *@
@Html.ActionLink("Home/Index", "Show", "Home", new { naam = "Stijn"}, null)
 
@RenderBody()
</pre>
              
          </li>
        </ul>  
    </pp-carousel>
  </md-card>
</article>
  <div class="md-actions navigate" layout="row" layout-align="center center">      
    <md-button ui-sref="mvcIntroductie">
        <ng-md-icon icon="navigate_before" size="36"></ng-md-icon> 
          <md-tooltip>Introductie</md-tooltip>
    </md-button>
    <md-button  ui-sref="mvcView" >
        <ng-md-icon icon="navigate_next"  size="36"></ng-md-icon> 
        <md-tooltip>View</md-tooltip>
    </md-button>
  </div>
</section>
